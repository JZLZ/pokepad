"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(x,u,r)=>{r.r(u),r.d(u,{HomePageModule:()=>C});var g=r(2881),i=r(9420),f=r(9417),h=r(5207),p=r(7468),e=r(1360),b=r(6722);const P=t=>["/details",t];function v(t,a){if(1&t&&(e.j41(0,"ion-item")(1,"ion-button",7)(2,"h3"),e.EFF(3),e.nI1(4,"titlecase"),e.k0s()()()),2&t){const s=a.$implicit;e.R7$(),e.Y8G("routerLink",e.eq3(4,P,s.name)),e.R7$(2),e.JRh(e.bMT(4,2,s.name))}}const k=[{path:"",component:(()=>{var t;class a{constructor(o){this.httpService=o,this.pokemons=[],this.filteredPokemons=[],this.favorites=[],this.searchTerm="",this.limit=100,this.offset=0,this.loading=!1}ngOnInit(){this.loadFavorites(),this.loadPokemons()}loadFavorites(){const o=localStorage.getItem("pokemonFavorites");this.favorites=o?JSON.parse(o):[]}saveFavorites(){localStorage.setItem("pokemonFavorites",JSON.stringify(this.favorites))}toggleFavorite(o){const n=this.favorites.indexOf(o);n>-1?this.favorites.splice(n,1):this.favorites.push(o),this.saveFavorites()}isFavorite(o){return this.favorites.includes(o)}loadPokemons(){this.loading=!0,this.httpService.getPokemons(this.limit,this.offset).subscribe(o=>{const n=o.results.map(c=>this.httpService.getPokemonDetails(c.name));(0,p.p)(n).subscribe(c=>{const m=c.map(l=>({id:l.id,name:l.name,height:l.height/10,weight:l.weight/10,base_experience:l.base_experience,image:l.sprites.other["official-artwork"].front_default,types:l.types.map(d=>d.type.name),abilities:l.abilities.map(d=>d.ability.name),stats:l.stats.map(d=>({name:d.stat.name,value:d.base_stat}))}));this.pokemons=[...this.pokemons,...m],this.applyFilter(),this.loading=!1},c=>{console.error("Erro ao buscar detalhes dos pokemons",c),this.loading=!1})},o=>{console.error("Erro ao buscar lista de pokemons",o),this.loading=!1})}loadMorePokemons(){this.offset+=this.limit,this.loadPokemons()}applyFilter(){const o=this.searchTerm.trim().toLowerCase();this.filteredPokemons=o?this.pokemons.filter(n=>n.name.toLowerCase().includes(o)):this.pokemons}onSearchChange(o){this.searchTerm=o.detail.value,this.applyFilter()}showPokemon(o){console.log("Pokemon ID:",o)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(b.k))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-home"]],standalone:!1,decls:19,vars:6,consts:[[3,"translucent"],["placeholder","Pesquisar Pok\xe9mon","debounce","300",3,"ngModelChange","ionInput","ngModel"],[3,"fullscreen"],["size","12"],["routerLink","/favorites",1,"minimal-favorite-btn"],[4,"ngFor","ngForOf"],[1,"minimal-favorite-btn",3,"click","disabled"],["fill","clear","expand","block",3,"routerLink"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," PokePad API "),e.k0s()(),e.j41(4,"ion-toolbar")(5,"ion-searchbar",1),e.mxI("ngModelChange",function(m){return e.DH7(n.searchTerm,m)||(n.searchTerm=m),m}),e.bIt("ionInput",function(m){return n.onSearchChange(m)}),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-grid")(8,"ion-row")(9,"ion-col",3)(10,"h1")(11,"strong"),e.EFF(12,"Pok\xe9mons:"),e.k0s()(),e.j41(13,"ion-button",4),e.EFF(14," Favoritos "),e.k0s(),e.j41(15,"ion-list"),e.DNE(16,v,5,6,"ion-item",5),e.k0s(),e.j41(17,"ion-button",6),e.bIt("click",function(){return n.loadMorePokemons()}),e.EFF(18),e.k0s()()()()()),2&o&&(e.Y8G("translucent",!0),e.R7$(5),e.R50("ngModel",n.searchTerm),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(10),e.Y8G("ngForOf",n.filteredPokemons),e.R7$(),e.Y8G("disabled",n.loading),e.R7$(),e.SpI(" ",n.loading?"Carregando...":"Carregar mais"," "))},dependencies:[g.Sq,f.BC,f.vS,i.Jm,i.hU,i.W9,i.lO,i.eU,i.uz,i.nf,i.ln,i.S1,i.BC,i.ai,i.Gw,i.N7,h.Wk,g.PV],styles:['@charset "UTF-8";ion-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:600;color:#f5f5f5;background-color:red;padding:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.5);border-radius:10px;box-shadow:0 4px 6px #0000001a;display:flex;justify-content:center}h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--ion-text-color);text-align:center;margin:1rem 0}h3[_ngcontent-%COMP%]{background:none;font-size:1.5rem;color:var(--ion-text-color);text-align:center;margin:.5rem 0}ion-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.2rem;color:#495057}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: transparent;text-align:center;font-size:1rem;padding:.5rem 1rem;border-radius:4px;transition:background-color .3s ease}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{background-color:#005eff;color:#fff}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:active{background-color:#005effa2}ion-button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.minimal-favorite-btn[_ngcontent-%COMP%]{--background: transparent;--border-color: #007aff88;--border-width: 1px;--border-style: solid;--color: #007affaa;--ripple-color: #007aff22;font-weight:500;font-size:.85rem;border-radius:4px;padding:4px 10px;width:auto;height:auto;min-width:80px;box-shadow:none;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.minimal-favorite-btn[_ngcontent-%COMP%]:hover{--background: #007aff22;--border-color: #007affcc;--color: #007affdd;cursor:pointer}.minimal-favorite-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007aff55}']}),a})()}];let M=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[h.iI.forChild(k),h.iI]}),a})(),C=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,f.YN,i.bv,M]}),a})()}}]);